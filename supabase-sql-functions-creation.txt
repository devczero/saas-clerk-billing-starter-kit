create policy "own rows: select"
on public.record_test
for select
to authenticated
using (auth.jwt() ->> 'sub' = user_id);

create policy "own rows: insert"
on public.record_test
for insert
to authenticated
with check (auth.jwt() ->> 'sub' = user_id);

create policy "own rows: update"
on public.record_test
for update
to authenticated
using (auth.jwt() ->> 'sub' = user_id)
with check (auth.jwt() ->> 'sub' = user_id);

create policy "own rows: delete"
on public.record_test
for delete
to authenticated
using (auth.jwt() ->> 'sub' = user_id);
